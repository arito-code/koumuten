/* ===== Reset ===== */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

html,body{
  width:100%;height:100%;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Hiragino Sans',sans-serif;
  background:#f5f5f5;
  touch-action:none;          /* ブラウザ既定のタッチ操作を無効化 */
  -webkit-user-select:none;
  user-select:none;
}

/* ===== ツールバー ===== */
#toolbar{
  position:fixed;top:0;left:0;right:0;
  height:48px;
  background:#2d2d2d;color:#fff;
  display:flex;align-items:center;justify-content:space-between;
  padding:0 6px;
  z-index:100;
  box-shadow:0 2px 6px rgba(0,0,0,.3);
}

.tb-group{
  display:flex;align-items:center;gap:4px;
}

#toolbar button{
  background:#4a4a4a;color:#fff;
  border:none;border-radius:6px;
  padding:7px 10px;
  font-size:13px;
  cursor:pointer;
  white-space:nowrap;
  touch-action:manipulation;
  transition:background .15s;
}
#toolbar button:hover{background:#666}
#toolbar button:active{background:#888}
#toolbar button:disabled{opacity:.35;cursor:default}

/* --- モード切替ボタン --- */
.mode-btn{font-size:12px!important;padding:5px 7px!important}
.mode-btn.mode-active{
  background:#1565c0!important;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.25);
}

/* --- 直交トグルボタン --- */
#btnOrtho.toggle-on{
  background:#1565c0;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.25);
}
#btnOrtho.toggle-off{
  background:#4a4a4a;
  opacity:.7;
}

#scaleLabel{
  font-size:13px;font-weight:bold;
  min-width:42px;text-align:center;
}

/* --- 案件名入力 --- */
#projectName{
  background:#3a3a3a;color:#fff;
  border:1px solid #555;border-radius:6px;
  padding:6px 8px;
  font-size:13px;
  width:140px;
  outline:none;
  transition:border-color .15s;
}
#projectName::placeholder{color:#999}
#projectName:focus{border-color:#1e88e5}

/* ===== レスポンシブ ===== */
@media(max-width:600px){
  #toolbar{
    flex-wrap:wrap;
    height:auto;min-height:48px;
    padding:4px 6px;
  }
  .tb-name{
    order:10;             /* 2段目に回す */
    width:100%;
    margin-top:2px;
  }
  #projectName{width:100%}
}

/* ===== キャンバス ===== */
#canvas-wrap{
  position:fixed;
  top:48px;left:0;right:0;bottom:0;
  overflow:hidden;
  background:#fff;
}
@media(max-width:600px){
  #canvas-wrap{top:80px}   /* ツールバー2段分 */
}

#drawing{
  width:100%;height:100%;
  display:block;
  cursor:crosshair;
}
#drawing.mode-dim{cursor:pointer}
#drawing.mode-delete{cursor:crosshair}